{"version":3,"sources":["api/api.ts","redux/friendItems-reducer.ts","redux/app-reducer.ts","redux/redux-store.ts","components/News/News.jsx","components/Music/Music.tsx","components/Settings/Settings.tsx","components/Navbar/Navbar.jsx","components/Navbar/NavbarContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.tsx","components/Login/LoginContainer.tsx","App.js","reportWebVitals.js","index.js","components/Navbar/Navbar.module.css","redux/auth-reducer.ts","utilits/validators.js","components/commonElements/formComponentCustomStyles.ts","components/commonElements/formComponent.tsx","redux/profile-reducer.ts","components/Login/Login.module.css","assets/images/Spinner.svg","components/commonElements/loader/loader.tsx","components/Header/Header.module.css","assets/images/avatar.png","redux/dialogs-reducer.ts","redux/users-reducer.ts","components/commonElements/loader/Loader.module.css"],"names":["ResultCode","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","followUser","userId","post","unfollowUser","delete","headerAPI","authUser","profileAPI","getUserProfile","res","getUserStatus","updateUserStatus","status","put","resultCode","updateUserPhoto","photoFile","formData","FormData","append","updateUserProfile","profile","loginApi","login","values","logout","getCaptcha","url","initialState","friendsItems","id","name","friendsItemsReducer","state","INITIALIZE_APP","initialized","appReducer","action","type","rootReducer","combineReducers","profilePage","profileReducer","dialogPage","dialogsReducer","usersPage","usersReducer","authorization","authReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","News","props","Music","Settings","Navbar","className","c","nav","item","activeClassName","activeLink","to","NavbarContainer","connect","Header","classes","useStyles","styles","header","isAuth","userProfile","src","photos","small","avatar","alt","fullName","Button","onClick","LogoutButton","variant","HeaderContainer","render","React","Component","authUserProfile","Login","captcha","onSubmit","a","undefined","error","FORM_ERROR","handleSubmit","submitError","loginForm","email","component","InputCustom","validate","composeValidators","required","maxLengthCreator","connector","setUserProfile","DialogsContainer","lazy","ProfileContainer","UsersContainer","App","componentDidMount","fallback","exact","path","LoginContainer","dispatch","promise","Promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","module","exports","ADD_DATA","ADD_CAPTCHA_URL","AUTH_USER_PROFILE","SAVE_PHOTO_SUCCESS","addAuthUserData","addCaptchaUrl","captchaUrl","addAuthUserProfile","saveAuthUserPhotoSuccess","success","loginResponse","captchaIsRequired","messages","value","maxLength","length","validators","reduce","validator","checkError","newValue","toUpperCase","slice","map","indexOf","makeStyles","textField","width","marginBottom","LoginButton","background","color","UploadButton","input","meta","restProps","children","label","size","touched","helperText","CustomButton","onChangeHandler","buttonAssign","htmlFor","style","display","onChange","ADD_POST","UPDATE_TEXT_AREA","SET_USER_PROFILE","SET_USER_STATUS","IS_FETCHING","postData","message","likeCounter","newPostText","userStatus","isFetching","setUserStatus","addNewPost","addPost","setStatus","updateStatus","saveUserPhoto","photo","updateUserPhotoResponse","saveProfileInfo","getState","updateUserProfileResponse","newPostObj","newText","Loader","loader","ADD_MESSAGE","messageData","dialogData","newMessageText","addMessage","addMessageActionCreator","newMessageObj","SET_USERS","SELECT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOW_FETCHING","TOGGLE_FOLLOWING","users","totalUsersCount","isFollow","followingInProgress","setUsers","selectPage","toggleIsFetching","toggleIsFollowFetching","toggleFollowing","userFollowed","items","totalCount","handlePageChange","pageNumber","toggleFollowingUser","u","followed","filter"],"mappings":"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","file":"static/js/main.d13899c8.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { UsersType } from '../redux/users-reducer';\r\nimport { PhotosType, UserProfileType } from '../types/types';\r\n\r\n//enum for resultCode\r\n\r\nexport enum ResultCode {\r\n    success = 0,\r\n    error = 1,\r\n    captchaIsRequired = 10\r\n}\r\n\r\n// create instance for request to server\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"d3bb9faa-edaa-4bc4-b657-f2a8ebee1f2b\"\r\n    }\r\n});\r\n\r\n\r\n// response types for userApi request\r\ntype GetUsersResponseType = {\r\n    items: Array<UsersType>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\n\r\ntype FollowedUserResponseType = {\r\n    resultCode: ResultCode\r\n    messages: Array<string>\r\n    data: any\r\n}\r\n\r\nconst usersAPI = {\r\n    // Get Array of users from server for current page\r\n    getUsers(currentPage = 1, pageSize = 10) { \r\n        return (instance.get<GetUsersResponseType>(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n        )\r\n    },\r\n\r\n    \r\n    followUser(userId: number){\r\n        return (\r\n            instance.post<FollowedUserResponseType>(`follow/${userId}`)\r\n            .then(response => response.data)\r\n        )\r\n\r\n    },\r\n    unfollowUser(userId: number){\r\n        return (\r\n            instance.delete<FollowedUserResponseType>(`follow/${userId}`)\r\n            .then(response => response.data)\r\n        )\r\n    }\r\n};\r\n\r\ntype GetUserProfileResponseType = {\r\n    data: {\r\n        id: number\r\n        email: string\r\n        login: string\r\n    }\r\n    resultCode: ResultCode\r\n    messages: Array<string>\r\n}\r\n\r\nexport const headerAPI ={\r\n    authUser(){\r\n        return(\r\n            instance.get<GetUserProfileResponseType>(`auth/me`)\r\n            .then(response => response.data)\r\n        )\r\n    }\r\n}\r\n\r\ntype ProfileApiResponseType = {\r\n    resultCode: ResultCode\r\n    messages: Array<string>\r\n    data:any\r\n}\r\n\r\ntype UpdateUserPhotoResponseType = {\r\n    data: {\r\n        photos: PhotosType\r\n    }\r\n    resultCode: ResultCode\r\n    messages: Array<string>\r\n}\r\nexport const profileAPI = {\r\n    getUserProfile(userId: number | null){\r\n        return(\r\n            instance.get<UserProfileType>(`profile/` + userId ).then(res => res.data)\r\n        )\r\n    },\r\n\r\n    //get user status from server\r\n    getUserStatus(userId: number){\r\n        return(\r\n            instance.get<string>(`profile/status/` + userId).then(res => res.data)\r\n        )\r\n    },\r\n    \r\n    //update auth user status\r\n    updateUserStatus(status: string){\r\n        return(\r\n            instance.put<ProfileApiResponseType>(`profile/status`, {status: status})\r\n            .then(res => res.data.resultCode)\r\n        )\r\n    },\r\n\r\n    updateUserPhoto(photoFile: any){\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile)\r\n        return(\r\n            instance.put<UpdateUserPhotoResponseType>(`profile/photo`, formData).then(res => res.data)\r\n        )\r\n    },\r\n\r\n    updateUserProfile(profile: UserProfileType){\r\n        return(\r\n            instance.put<ProfileApiResponseType>(`profile`, profile).then(res => res.data)\r\n        )\r\n    }\r\n\r\n}\r\n\r\ntype LoginApiResponseType = {\r\n    resultCode: ResultCode\r\n    messages: Array<string>\r\n    data:any\r\n}\r\n\r\nexport const loginApi = {\r\n    login(values: any){\r\n        return(\r\n            instance.post<LoginApiResponseType>(`auth/login`, values).then(res => res.data)\r\n        )\r\n    },\r\n\r\n    logout(){\r\n        return(\r\n            instance.delete<LoginApiResponseType>(`auth/login`).then(res => res.data)\r\n        )\r\n    },\r\n\r\n    getCaptcha(){\r\n        return(\r\n            instance.get<{url: string}>(`security/get-captcha-url`).then(res => res.data.url)\r\n        )\r\n    }\r\n}\r\n\r\nexport default usersAPI;","type FriendsItemType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nlet initialState = {\r\n    friendsItems: [\r\n    {id: 1, name: \"Tania\"},\r\n    {id: 2, name: \"Pietia\"},\r\n    {id: 3, name: \"Sasha\"},\r\n    {id: 4, name: \"Vova\"},\r\n    {id: 5, name: \"Vova\"},\r\n    {id: 6, name: \"Vova\"},\r\n    {id: 7, name: \"Vova\"},\r\n    {id: 8, name: \"Vova\"},\r\n    {id: 9, name: \"Vova\"}\r\n] as Array<FriendsItemType>\r\n};\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nconst friendsItemsReducer = (state = initialState, action: any):InitialStateType => state;\r\n\r\nexport default friendsItemsReducer;","import { ThunkAction } from 'redux-thunk';\r\nimport { authUser } from './auth-reducer';\r\nimport { AppStateType } from './redux-store';\r\n\r\n//Action types\r\nconst INITIALIZE_APP = 'myApp/auth-reducer/INITIALIZE_APP';\r\n\r\n//Initial State\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\ntype InitialStateType = typeof initialState\r\n//Reducer\r\n\r\n\r\nconst appReducer = (state = initialState, action: ActionType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZE_APP:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n            \r\n    }\r\n};\r\n\r\n//action creators\r\ntype ActionType = initializingSuccessActionCreatorType;\r\n\r\ntype initializingSuccessActionCreatorType = {\r\n    type: typeof INITIALIZE_APP\r\n};\r\n\r\nexport const initializingSuccess = ():initializingSuccessActionCreatorType  => ({type: INITIALIZE_APP});\r\n\r\n//thunkCreator for auth user\r\n\r\nexport type ThunkType = ThunkAction <void, AppStateType, unknown, ActionType>\r\n\r\nexport const initialized = (): ThunkType => {\r\n    //thunk what return resolve of all promises\r\n    return (dispatch) => {\r\n        let promise = dispatch(authUser());\r\n        Promise.all([promise]).then(() => {\r\n            dispatch(initializingSuccess())\r\n        })\r\n    }\r\n}\r\n\r\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport friendsItemsReducer from \"./friendItems-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport appReducer from './app-reducer';\r\n\r\n//combine reducers function what make new reducer\r\nlet rootReducer = combineReducers ({\r\n    profilePage: profileReducer,\r\n    dialogPage: dialogsReducer,\r\n    friendsItems: friendsItemsReducer,\r\n    usersPage: usersReducer,\r\n    authorization: authReducer,\r\n    app: appReducer\r\n})\r\n\r\n//get type of function rootReducer\r\ntype RootReducerType = typeof rootReducer // (globalState: AppStateType) => AppStateType\r\n//get type of response of function rootReducer\r\nexport type AppStateType = ReturnType<RootReducerType> \r\n\r\n\r\n//@ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n//const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n//@ts-ignore\r\nwindow.store = store;\r\n\r\nexport default store;","//import c from './News.module.css'\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react'\r\n\r\nconst Music: React.FC = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","//import c from './Settings.module.css'\r\nimport React from 'react'\r\n\r\nconst Settings: React.FC = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import { NavLink } from 'react-router-dom';\r\n//import Friends from './Friends/Friends';\r\nimport c from './Navbar.module.css';\r\n\r\nconst Navbar = (props) => {\r\n  \r\n  //let friendItem = props.friendsItems.friendsItems.map(friendsItems => <Friends id={friendsItems.id} name={friendsItems.name} />)\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div className={c.nav}>\r\n        <nav >\r\n          <div>\r\n            <NavLink className={c.item} activeClassName={c.activeLink} to=\"/profile\">Profile</NavLink>\r\n          </div>\r\n          <div>\r\n            <NavLink className={c.item} activeClassName={c.activeLink} to=\"/users\">Users</NavLink>\r\n          </div>\r\n          <div>\r\n            <NavLink className={c.item} activeClassName={c.activeLink} to=\"/dialogs\">Messages</NavLink>\r\n          </div>\r\n          <div>\r\n            <NavLink className={c.item} activeClassName={c.activeLink} to=\"/news\">News</NavLink>\r\n          </div>\r\n          <div>\r\n            <NavLink className={c.item} activeClassName={c.activeLink} to=\"/music\">Music</NavLink>\r\n          </div>\r\n          <div>\r\n            <NavLink className={c.item} activeClassName={c.activeLink} to=\"/settings\">Settings</NavLink>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n      {/* <div className={c.friendsItems}>\r\n        <h3>Friends</h3>\r\n        <div className={c.friends}>\r\n          {friendItem}\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import { connect } from 'react-redux';\r\nimport Navbar from './Navbar';\r\n\r\n  let mapStateToProps = (state) =>{\r\n    return {\r\n      friendsItems: state.friendsItems\r\n    }\r\n  }\r\n\r\nconst NavbarContainer = connect(mapStateToProps)(Navbar);\r\n\r\nexport default NavbarContainer;","import { NavLink } from 'react-router-dom';\r\nimport styles from './Header.module.css';\r\nimport { useStyles } from '../commonElements/formComponentCustomStyles';\r\nimport { Button } from '@material-ui/core';\r\nimport avatar from '../../assets/images/avatar.png'\r\n\r\nconst Header = (props) => {\r\n    const classes = useStyles();\r\n    const onSubmit = () =>{\r\n        props.logout()\r\n    }\r\n\r\n    return (\r\n\r\n        <header className={styles.header}>\r\n            <div className={styles.login}>\r\n                {props.isAuth && props.userProfile\r\n                    ? <NavLink to={\"/profile/\"}>\r\n                        <img src={props.userProfile.photos.small !== null ? props.userProfile.photos.small : avatar } alt=\"profile\"></img>\r\n                        <span>{props.userProfile.fullName}</span>\r\n                    </NavLink>\r\n                    :<NavLink to='/login'>Login</NavLink>}\r\n                <Button onClick={onSubmit} className={classes.LogoutButton} variant=\"contained\" type=\"submit\">Logout</Button>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render = () => {\r\n    return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        userProfile: state.authorization.authUserProfile,\r\n        isAuth: state.authorization.isAuth,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react'\r\nimport {Form, Field} from 'react-final-form'\r\nimport { InputCustom, CustomButton} from '../commonElements/formComponent';\r\nimport { composeValidators, maxLengthCreator, required } from '../../utilits/validators';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { FORM_ERROR } from 'final-form';\r\nimport styles from './Login.module.css'\r\nimport { PropsFromRedux } from './LoginContainer';\r\n\r\n\r\n\r\nconst Login: React.FC<PropsFromRedux> = ({isAuth, captcha, login}) => {\r\n\r\ntype ValuesType = {\r\n  email: string\r\n  password: string\r\n  rememberMe: boolean\r\n  captcha: string | null\r\n}\r\n\r\n  const onSubmit = async (values: ValuesType) => {\r\n    let error = await login(values);\r\n    if (error !== undefined) {\r\n      return { [FORM_ERROR]: error }\r\n    }\r\n  }\r\n\r\n  if (isAuth === true){\r\n    return <Redirect to=\"/profile\" />\r\n  }\r\n  \r\n  \r\n  return(\r\n  <Form\r\n    onSubmit ={onSubmit}\r\n    captcha = {captcha}\r\n    render={({handleSubmit, submitError}) => (\r\n        <div>\r\n          <form className={styles.loginForm} onSubmit={handleSubmit}>\r\n            <div className={styles.email}>\r\n              <Field<string> name={\"email\"} component={InputCustom} validate={composeValidators(required, maxLengthCreator(30))}/>\r\n            </div>\r\n            <div>\r\n              <Field<string> name={\"password\"} component={InputCustom} type=\"password\" validate={composeValidators(required, maxLengthCreator(30))} />\r\n            </div>\r\n            <div>\r\n              <Field<boolean> name={\"rememberMe\"} component=\"input\" type={\"checkbox\"} />\r\n              <span>remember me</span>\r\n            </div>\r\n            {captcha &&\r\n              <div> \r\n                <img src={captcha} alt=\"captcha\"/>\r\n                <Field<string>  name=\"captcha\" component={InputCustom}/>\r\n              </div>}\r\n            {submitError && <div className={styles.error}>{submitError}</div>}\r\n            <div>\r\n            <CustomButton>Login</CustomButton>\r\n              {/* <Button variant=\"contained\" color=\"primary\" type=\"submit\">Login</Button>  */}\r\n            </div>\r\n          </form>\r\n\r\n        </div>\r\n      )\r\n\r\n    }\r\n  />)\r\n}\r\n\r\nexport default Login;","import { setUserProfile } from '../../redux/profile-reducer';\r\nimport Login from './Login';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { AppStateType } from '../../redux/redux-store';\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType)  => {\r\n  return {\r\n    isAuth: state.authorization.isAuth,\r\n    captcha: state.authorization.captcha\r\n  };\r\n};\r\n\r\nexport type PropsFromRedux = ConnectedProps <typeof connector>\r\n\r\nconst connector = connect(mapStateToProps, {setUserProfile, login})\r\n\r\nexport default connector(Login);","import './App.css';\r\nimport {Redirect, Route, Switch } from 'react-router-dom';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport NavbarContainer from './components/Navbar/NavbarContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginContainer from './components/Login/LoginContainer';\r\nimport React, { lazy } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { initialized } from './redux/app-reducer';\r\nimport Loader from './components/commonElements/loader/loader';\r\nimport { Suspense } from 'react';\r\n\r\n//use React.lazy for code-splitting\r\nconst DialogsContainer = lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst UsersContainer = lazy(() => import ('./components/Users/UsersContainer'));\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount = () => {\r\n    this.props.initialized();\r\n  }\r\n\r\n  render = () => {\r\n      if(!this.props.initialized){\r\n        return <Loader />\r\n      }\r\n\r\n      return <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <NavbarContainer />\r\n        <div className=\"app-wrapper-content\">\r\n          <Suspense fallback={<Loader/>}>\r\n            <Switch>\r\n              <Route exact path=\"/\" render={() => <Redirect to=\"/profile\"/>} />\r\n              <Route path=\"/login\" render={ () => <LoginContainer />} />\r\n              <Route path=\"/users\" render={ () => <UsersContainer />} />\r\n              <Route path=\"/dialogs\" render={ () => <DialogsContainer />} />\r\n              <Route path=\"/profile/:userId?\" render={ () => <ProfileContainer />} />\r\n              <Route path=\"/news\" component={News} />\r\n              <Route path=\"/music\" component={Music} />\r\n              <Route path=\"/settings\" component={Settings} />\r\n              <Route path=\"*\" render={() => <div>404 NOT FOUND</div>} />\r\n            </Switch>\r\n            </Suspense>\r\n        </div>\r\n      </div>\r\n  };\r\n}\r\n\r\nlet  mapDispatchToProps = (state) => {\r\n  return {\r\n    initialized: state.app.initialized\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapDispatchToProps, {initialized})(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import store from './redux/redux-store';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './App.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <HashRouter>\r\n            <Provider store={store}>        \r\n                <App />\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>,\r\ndocument.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__slPY0\",\"item\":\"Navbar_item__dgERQ\",\"activeLink\":\"Navbar_activeLink__8SB2B\",\"friendsItems\":\"Navbar_friendsItems__2YQVu\",\"friends\":\"Navbar_friends___ubY9\"};","import { ThunkAction } from 'redux-thunk';\r\nimport { headerAPI, loginApi, profileAPI, ResultCode } from '../api/api';\r\nimport { UserProfileType, PhotosType } from '../types/types';\r\nimport { AppStateType } from './redux-store';\r\n\r\n//Actions\r\nconst ADD_DATA = 'app/auth-reducer/ADD_DATA';\r\nconst ADD_CAPTCHA_URL ='app/auth-reducer/ADD_CAPTCHA_URL';\r\nconst AUTH_USER_PROFILE = 'app/auth-reducer/AUTH_USER_PROFILE';\r\nconst SAVE_PHOTO_SUCCESS = 'app/auth-reducer/SAVE_PHOTO_SUCCESS';\r\n\r\n//Initial State\r\ntype DataType = {\r\n    id: number | null\r\n    login: string | null\r\n    email: string | null\r\n}\r\n\r\nlet initialState= {\r\n    data: null as DataType | null,\r\n    isAuth: false,  //check if user login\r\n    captcha: undefined as string | undefined,  //captcha url if result code === 10\r\n    authUserProfile: null as UserProfileType | null\r\n};\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\n//Reducer\r\nconst authReducer = (state = initialState, action:  ActionTypes):InitialStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_DATA:\r\n            return {\r\n                ...state,\r\n                data: action.data,\r\n                isAuth: action.isAuth,\r\n            };\r\n\r\n        case ADD_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                captcha: action.path\r\n            };\r\n\r\n        case AUTH_USER_PROFILE:\r\n            return{\r\n                ...state,\r\n                authUserProfile: action.userProfile\r\n            };\r\n\r\n            case SAVE_PHOTO_SUCCESS: \r\n                return {\r\n                    ...state,\r\n                    authUserProfile: {...state.authUserProfile, photos: action.photos},\r\n                }\r\n            ;\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n//Action Creators\r\ntype ActionTypes = AuthReducerActionCreatorType | AddCaptchaUrlType | addAuthUserProfileActionCreatorType |\r\n                    saveAuthUserPhotoSuccessActionCreatorType \r\n\r\ntype AuthReducerActionCreatorType = {\r\n    type: typeof ADD_DATA\r\n    data: DataType\r\n    isAuth: boolean\r\n}\r\nexport const addAuthUserData = (id: number | null, login: string | null, email: string | null, isAuth: boolean):AuthReducerActionCreatorType => \r\n    ({type: ADD_DATA, data: {id, login, email}, isAuth});\r\n\r\ntype AddCaptchaUrlType = {\r\n    type: typeof ADD_CAPTCHA_URL\r\n    path: string | undefined\r\n}\r\nexport const addCaptchaUrl = (captchaUrl: string | undefined):AddCaptchaUrlType => ({type: ADD_CAPTCHA_URL, path: captchaUrl});\r\n\r\ntype addAuthUserProfileActionCreatorType ={\r\n    type: typeof AUTH_USER_PROFILE\r\n    userProfile: UserProfileType\r\n}\r\nexport const addAuthUserProfile = (userProfile: UserProfileType):addAuthUserProfileActionCreatorType => \r\n    ({type: AUTH_USER_PROFILE, userProfile});\r\n\r\nexport type saveAuthUserPhotoSuccessActionCreatorType ={\r\n    type: typeof SAVE_PHOTO_SUCCESS\r\n    photos: PhotosType\r\n}\r\nexport const saveAuthUserPhotoSuccess = (photos: PhotosType):saveAuthUserPhotoSuccessActionCreatorType => \r\n    ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\n//side effect, thunks\r\n\r\nexport type AuthReducerThunkType = ThunkAction <void, AppStateType, unknown, ActionTypes>\r\n\r\nexport const authUser = (): AuthReducerThunkType => async (dispatch) => {\r\n        const data = await headerAPI.authUser()\r\n        if (data.resultCode === ResultCode.success) {\r\n            let {\r\n                id,\r\n                login,\r\n                email\r\n            } = data.data;\r\n            dispatch(addAuthUserData(id, login, email, true));\r\n            const userProfile = await profileAPI.getUserProfile(id)\r\n            dispatch(addAuthUserProfile(userProfile));\r\n        }\r\n    }\r\n\r\ntype ValuesType = {\r\n    email: string\r\n    password: string\r\n}\r\n\r\nexport const login = (values: ValuesType):AuthReducerThunkType => {\r\n    return async (dispatch) => {\r\n        const loginResponse = await loginApi.login(values);\r\n        if (loginResponse.resultCode === ResultCode.success) {\r\n            dispatch(authUser());\r\n            dispatch(addCaptchaUrl(undefined));\r\n        } else {\r\n            if (loginResponse.resultCode === ResultCode.captchaIsRequired){\r\n                const captchaUrl = await loginApi.getCaptcha()\r\n                dispatch(addCaptchaUrl(captchaUrl))\r\n            }\r\n            return loginResponse.messages[0]\r\n        }\r\n    };\r\n}\r\n\r\nexport const logout = ():AuthReducerThunkType => async (dispatch) => {\r\n    const logoutResponse = await loginApi.logout();\r\n    if (logoutResponse.resultCode === ResultCode.success) {\r\n        dispatch(addAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","\r\n\r\nexport const required = value => (value ? undefined : 'Required')\r\n\r\n//robymo validator max length creator jak zamykania i wyzywaju jogo w  Field peredajuczy \r\n//jaka moe buty maksymalna dorzyna pola wwodu\r\nexport const maxLengthCreator = (maxLength) => (value) => (value && value.length > maxLength \r\n    ? `Max length is ${maxLength} symbols`\r\n    : undefined )\r\n\r\n    //Function compose all validators from final-form\r\n    //tsia funkcja po czerzi wyklykaje validatory i prokyduje w nych za dopomogoju zamykania value z formy\r\nexport const composeValidators = (...validators) => value => \r\n        validators.reduce((error, validator) => error || validator(value), undefined);\r\n\r\n\r\nexport const checkError = (error, value) => {\r\n    const newValue = value[0].toUpperCase() + value.slice(1);\r\n    return( error && error.map(messages => {\r\n            if(messages.indexOf(newValue) >= 0){\r\n                return messages;\r\n            }\r\n            return undefined;\r\n        }))\r\n    }\r\n\r\n","import { makeStyles } from \"@material-ui/core\";\r\n\r\n\r\n\r\nexport const useStyles = makeStyles({\r\n    textField:{\r\n        width: '100%',\r\n        marginBottom: '15px'\r\n    },\r\n    LoginButton:{\r\n        width: '10rem',\r\n        background: 'linear-gradient(45deg, gray, #2d2d2d)',\r\n        color: 'white'\r\n    },\r\n\r\n    LogoutButton:{\r\n        width: '10rem',\r\n        background: 'white',\r\n        color: 'black'\r\n    },\r\n\r\n    UploadButton: {\r\n        background: 'linear-gradient(45deg, gray, #2d2d2d)',\r\n        color: 'white'\r\n    }\r\n    \r\n})\r\n\r\n","//import styles from \"./formComponent.module.css\";\r\nimport {useStyles} from './formComponentCustomStyles';\r\nimport { Button, TextField} from '@material-ui/core';\r\nimport React, { ChangeEvent } from 'react'; \r\nimport {FieldRenderProps} from \"react-final-form\";\r\n\r\n\r\nexport const InputCustom: React.FC<FieldRenderProps<any>> = (props) => {\r\n\r\n    const classes = useStyles()\r\n    const {input, meta, children, ...restProps} = props;\r\n    return (\r\n            <TextField \r\n                className={classes.textField}\r\n                variant=\"outlined\"\r\n                color=\"primary\" \r\n                label={input.name}\r\n                size=\"small\"\r\n                error={meta.error && meta.touched}\r\n                helperText={meta.touched ? meta.error : undefined}\r\n                {...input} \r\n                {...restProps} />\r\n    )\r\n};\r\n\r\ntype PropsType = {\r\n    children: string\r\n}\r\n\r\nexport const CustomButton: React.FC<PropsType> = ({children}) => {\r\n\r\n    const classes = useStyles()\r\n    return <Button className={classes.LoginButton} variant=\"contained\" type=\"submit\">{children}</Button> \r\n}\r\n\r\ntype UploadButtonPropsType ={\r\n    onChangeHandler: (event: ChangeEvent<HTMLInputElement>) => void\r\n    buttonAssign: string\r\n}\r\n\r\nexport const UploadButton: React.FC<UploadButtonPropsType> = ({onChangeHandler, buttonAssign}) => {\r\n\r\n    const classes = useStyles()\r\n\r\n    return <label htmlFor=\"upload-photo\">\r\n        <input\r\n            style={{ display: 'none' }}\r\n            id=\"upload-photo\"\r\n            name=\"upload-photo\"\r\n            type=\"file\"\r\n            onChange={onChangeHandler}\r\n        />\r\n        <Button className={classes.UploadButton} variant=\"contained\" component=\"span\">\r\n            {buttonAssign}\r\n    </Button>\r\n    </label>\r\n}\r\n","import { ThunkAction } from 'redux-thunk';\r\nimport { profileAPI, ResultCode } from '../api/api';\r\nimport { UserProfileType, PhotosType } from '../types/types';\r\nimport { saveAuthUserPhotoSuccess, saveAuthUserPhotoSuccessActionCreatorType } from './auth-reducer';\r\nimport { AppStateType } from './redux-store';\r\n\r\n\r\n//actions\r\nconst ADD_POST = 'app/profile-reducer/ADD-POST';\r\nconst UPDATE_TEXT_AREA ='app/profile-reducer/UPDATE-TEXT-AREA';\r\nconst SET_USER_PROFILE ='app/profile-reducer/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'app/profile-reducer/SET_USER_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'app/profile-reducer/SAVE_PHOTO_SUCCESS';\r\nconst IS_FETCHING = 'app/profile-reducer/IS_FETCHING'\r\n\r\n//initial State\r\ntype PostDataType = {\r\n    id: number\r\n    message: string\r\n    likeCounter: number\r\n}\r\n\r\nlet initialState = {\r\n    postData: [\r\n        {id: 1, message: \"Hi, how are you?\", likeCounter: 12},\r\n        {id: 2, message: \"It's my firs post\", likeCounter: 13},\r\n        {id: 3, message: \"It's my second post\", likeCounter: 14},\r\n        {id: 4, message: \"It's my third post\", likeCounter: 15},\r\n        {id: 5, message: \"It's my fourth post\", likeCounter: 16},\r\n        {id: 6, message: \"It's my fifth post\", likeCounter: 17}\r\n    ] as Array<PostDataType>,\r\n    newPostText: \"\" as string,\r\n    userProfile: null as UserProfileType | null,\r\n    userStatus: \"\" as string | null,\r\n    isFetching: false as boolean\r\n};\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\n//Reducer\r\nconst profileReducer = (state = initialState, action: ActionTypes):InitialStateType  => {\r\n\r\n        switch (action.type) {\r\n            case ADD_POST:\r\n                let newPostObj = {\r\n                    id: 5,\r\n                    message: action.newPostText,\r\n                    likeCounter: 0\r\n                };\r\n                \r\n                return {\r\n                    ...state,\r\n                    postData: [newPostObj, ...state.postData],\r\n                    newPostText: \"\"\r\n                };\r\n\r\n            case UPDATE_TEXT_AREA: \r\n\r\n                return {\r\n                    ...state,\r\n                    newPostText: action.newText\r\n                };\r\n            ;\r\n\r\n            case SET_USER_PROFILE: \r\n                return {\r\n                    ...state,\r\n                    userProfile: action.profile\r\n                }\r\n            ;\r\n\r\n            case SET_USER_STATUS: {\r\n                return {\r\n                    ...state,\r\n                    userStatus: action.status\r\n                };\r\n            }\r\n\r\n            case SAVE_PHOTO_SUCCESS: \r\n                return {\r\n                    ...state,\r\n                    userProfile: {...state.userProfile, photos: action.photos},\r\n                }\r\n            ;\r\n\r\n            case IS_FETCHING: \r\n                return {\r\n                    ...state,\r\n                    isFetching: action.isFetching\r\n                }\r\n\r\n            default:\r\n                return state;\r\n        }\r\n    }\r\n\r\n//Action Creators\r\ntype ActionTypes = AddPostType | UpdateTextAreaActionCreatorType | SetProfileType | setUserStatusType |\r\n                    SavePhotoSuccessType | isFetchingType | saveAuthUserPhotoSuccessActionCreatorType\r\n\r\ntype AddPostType = {type: typeof ADD_POST, newPostText: string}\r\nexport const addPost = (newPostText: string):AddPostType  => ({type: ADD_POST, newPostText});\r\n\r\ntype UpdateTextAreaActionCreatorType = { type: typeof UPDATE_TEXT_AREA, newText: string }\r\nexport const updateTextAreaActionCreator = (text: string):UpdateTextAreaActionCreatorType  => ({ type: UPDATE_TEXT_AREA, newText: text });\r\n\r\ntype SetProfileType = {type:typeof SET_USER_PROFILE, profile: UserProfileType }\r\nexport const setProfile = (profile: UserProfileType):SetProfileType => ({ type: SET_USER_PROFILE, profile });\r\n\r\ntype setUserStatusType = {type: typeof SET_USER_STATUS, status: string}\r\nexport const setUserStatus = (status:string): setUserStatusType => ({type: SET_USER_STATUS, status});\r\n\r\ntype SavePhotoSuccessType = {type: typeof SAVE_PHOTO_SUCCESS, photos: PhotosType}\r\nexport const savePhotoSuccess = (photos: PhotosType):SavePhotoSuccessType  => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\ntype isFetchingType = {type: typeof IS_FETCHING, isFetching: boolean}\r\nexport const isFetching = (isFetching: boolean):isFetchingType  => ({type: IS_FETCHING, isFetching})\r\n\r\n\r\n//side effects, Thinks\r\n\r\ntype ProfileReducerThunkType = ThunkAction<void, AppStateType, unknown, ActionTypes> \r\n\r\nexport const addNewPost = (newPostText: string): ProfileReducerThunkType => {\r\n    return (dispatch) => dispatch(addPost(newPostText))\r\n};\r\n\r\nexport const setUserProfile = (userId: number | null): ProfileReducerThunkType => async (dispatch) => { \r\n            dispatch(isFetching(true))\r\n            const userProfile = await profileAPI.getUserProfile(userId)\r\n            dispatch(setProfile(userProfile));\r\n            dispatch(isFetching(false))\r\n        }\r\n\r\nexport const setStatus = (userId:number): ProfileReducerThunkType => async (dispatch) => {\r\n        const userStatus = await profileAPI.getUserStatus(userId)\r\n                dispatch(setUserStatus(userStatus))\r\n        }\r\n\r\nexport const updateStatus = (status: string): ProfileReducerThunkType => async (dispatch) => {\r\n    const updateStatusResultCode = await profileAPI.updateUserStatus(status)\r\n        if (updateStatusResultCode === ResultCode.success ){\r\n            dispatch(setUserStatus(status))\r\n        }\r\n}\r\n\r\nexport const saveUserPhoto = (photo: PhotosType): ProfileReducerThunkType => async (dispatch) => {\r\n    dispatch(isFetching(true))\r\n    const updateUserPhotoResponse = await profileAPI.updateUserPhoto(photo)\r\n        if (updateUserPhotoResponse.resultCode === ResultCode.success ){\r\n            dispatch(savePhotoSuccess(updateUserPhotoResponse.data.photos));\r\n            dispatch(saveAuthUserPhotoSuccess(updateUserPhotoResponse.data.photos));\r\n        }\r\n    dispatch(isFetching(false))\r\n}\r\n\r\nexport const saveProfileInfo = (profile: UserProfileType): ProfileReducerThunkType => async (dispatch, getState: ()=> AppStateType) => {\r\n    const userId: number | null = getState().authorization.data!.id;\r\n    const updateUserProfileResponse = await profileAPI.updateUserProfile(profile)\r\n    if (updateUserProfileResponse.resultCode === ResultCode.success){\r\n        dispatch(setUserProfile(userId))\r\n    } else {\r\n        return updateUserProfileResponse.messages;\r\n    }\r\n}\r\n\r\nexport default profileReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Login_error__2s83K\",\"loginForm\":\"Login_loginForm__1sbSj\",\"email\":\"Login_email__1nHbB\"};","export default __webpack_public_path__ + \"static/media/Spinner.7593a230.svg\";","import styles from './Loader.module.css'\r\nimport loader from '../../../assets/images/Spinner.svg'\r\nimport React from 'react'\r\n\r\nlet Loader: React.FC = () => {\r\n    return(\r\n        <div className={styles.loader}>\r\n            <img src={loader} alt=\"loader\" />\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Loader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2NwsF\",\"logo\":\"Header_logo__2IV0K\",\"login\":\"Header_login__K0gJt\"};","export default \"data:image/png;base64,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\"","import { Dispatch } from \"react\";\r\n\r\nconst ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\ntype DialogType={\r\n    id: number\r\n    name: string\r\n}\r\ntype MessageType={\r\n    id: number\r\n    message: string\r\n}\r\n\r\nconst initialState = {\r\n    messageData:[\r\n        {id: 1, message: \"Hello World\"},\r\n        {id: 2, message: \"Here will be message section soon :-)\"}\r\n    ] as Array<MessageType> , \r\n    dialogData: [\r\n        {id: 1, name: \"User1\"},\r\n        {id: 2, name: \"User2\"},\r\n        {id: 3, name: \"User3\"},\r\n        {id: 4, name: \"User4\"},\r\n        {id: 5, name: \"User5\"},\r\n        {id: 6, name: \"User6\"},\r\n        {id: 7, name: \"User7\"}\r\n    ] as Array<DialogType>,\r\n    newMessageText: \"\" as string\r\n};\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action: AddMessageActionCreatorType):InitialStateType  => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let newMessageObj = {\r\n                id: 5,\r\n                message: action.message,\r\n            };\r\n            return {\r\n                ...state,\r\n                messageData: [...state.messageData, newMessageObj], //append newMessage into messageData array\r\n                newMessageText: \"\"\r\n            };\r\n            \r\n        default:\r\n            return state;\r\n            \r\n    }\r\n};\r\n\r\n\r\n// action creators\r\n\r\ntype AddMessageActionCreatorType = {\r\n    type: typeof ADD_MESSAGE\r\n    message: string\r\n}\r\n\r\nexport const addMessageActionCreator = (message: string): AddMessageActionCreatorType => ({type: ADD_MESSAGE, message})\r\n\r\n//thunk creator\r\n\r\nexport const addMessage = (message: string) => {\r\n    return (dispatch: Dispatch<AddMessageActionCreatorType>): void => dispatch(addMessageActionCreator(message))\r\n};\r\n\r\n\r\nexport default dialogsReducer;","import { AppStateType } from './redux-store';\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport usersAPI, { ResultCode } from \"../api/api\";\r\nimport { PhotosType } from \"../types/types\";\r\n\r\n//Actions\r\n\r\nconst SET_USERS = 'SET-USERS';\r\nconst SELECT_PAGE = 'SELECT-PAGE';\r\nconst SET_TOTAL_COUNT = 'SET-TOTAL-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOW_FETCHING = 'TOGGLE_IS_FOLLOW_FETCHING';\r\nconst TOGGLE_FOLLOWING = 'TOGGLE_FOLLOWING';\r\n\r\n\r\n//Initial State\r\n\r\nexport type UsersType = {\r\n    id: number\r\n    name: string\r\n    status: string\r\n    photos: PhotosType\r\n    followed: boolean\r\n}\r\n\r\nlet initialState = {\r\n    users:[] as Array<UsersType>,\r\n    pageSize: 8,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    isFollow: false,\r\n    followingInProgress: [] as Array<number> // array of users id`s\r\n};\r\n\r\ntype initialStateType = typeof initialState\r\n\r\n//Reducer\r\n\r\nconst usersReducer = (state = initialState, action: ActionTypes):initialStateType => {\r\n\r\n    switch (action.type) {\r\n        //change following of user\r\n        case TOGGLE_FOLLOWING:\r\n            return {\r\n                ...state,\r\n                users: state.users.map( u => {\r\n                    if (u.id === action.userId){\r\n                        return {...u, followed: action.userFollowed }\r\n                    }\r\n                        \r\n                    return u;\r\n                })\r\n            };\r\n        \r\n        //set users for current page\r\n        case SET_USERS:\r\n            return {...state, users: action.users};\r\n        \r\n        //set current page of users\r\n        case SELECT_PAGE:\r\n            return {...state, currentPage: action.currentPage};\r\n        \r\n        //set total amount of users\r\n        case SET_TOTAL_COUNT:\r\n            return {...state, totalUsersCount: action.totalCount};\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return{...state, isFetching: action.isFetching};\r\n\r\n        case TOGGLE_IS_FOLLOW_FETCHING:\r\n            return{...state, \r\n                followingInProgress: action.isFetching \r\n                ? [...state.followingInProgress, action.userId] //disable only button of user what we follow/unfollow during server request\r\n                : state.followingInProgress.filter(id => id !== action.userId) //delete user id from array\r\n            }\r\n        default:\r\n            return state;\r\n            \r\n    }\r\n};\r\n\r\n\r\n//action creators\r\ntype ActionTypes = SetUsersType | SelectPageType | SetTotalCountType | ToggleIsFetchingType | ToggleIsFollowFetchingType | ToggleFollowingType\r\n\r\nexport type SetUsersType = { type: typeof SET_USERS, users: Array<UsersType>}\r\nexport const setUsers = (users: Array<UsersType>):SetUsersType  => ({ type: SET_USERS, users})\r\n\r\nexport type SelectPageType = {type:typeof SELECT_PAGE, currentPage: number}\r\nexport const selectPage = (currentPage: number):SelectPageType  => ({ type: SELECT_PAGE, currentPage})\r\n\r\ntype SetTotalCountType = {type:typeof SET_TOTAL_COUNT, totalCount: number}\r\nexport const setTotalCount = (totalCount: number): SetTotalCountType => ({ type: SET_TOTAL_COUNT, totalCount})\r\n\r\nexport type ToggleIsFetchingType = { type:typeof TOGGLE_IS_FETCHING, isFetching:boolean}\r\nexport const toggleIsFetching = (isFetching: boolean):ToggleIsFetchingType  => ({ type: TOGGLE_IS_FETCHING, isFetching})\r\n\r\ntype ToggleIsFollowFetchingType = { type:typeof TOGGLE_IS_FOLLOW_FETCHING, isFetching: boolean, userId: number}\r\nexport const toggleIsFollowFetching = (isFetching: boolean, userId: number): ToggleIsFollowFetchingType => \r\n    ({ type: TOGGLE_IS_FOLLOW_FETCHING, isFetching, userId})\r\n\r\ntype ToggleFollowingType = {type:typeof TOGGLE_FOLLOWING, userId: number, userFollowed: boolean}\r\nexport const toggleFollowing = (userId:number, userFollowed: boolean):ToggleFollowingType => \r\n    ({type: TOGGLE_FOLLOWING, userId, userFollowed})\r\n\r\n//thunk creators\r\n\r\ntype UserReducerThunkType = ThunkAction <void, AppStateType, unknown, ActionTypes>\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number): UserReducerThunkType => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        const data = await usersAPI.getUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalCount(data.totalCount));\r\n    };\r\n};\r\n\r\nexport const handlePageChange = (pageNumber:number, pageSize: number): UserReducerThunkType => async (dispatch) =>\r\n{\r\n    dispatch(selectPage(pageNumber));\r\n    dispatch(toggleIsFetching(true));\r\n    //getUsers function what get users from server\r\n    const data = await usersAPI.getUsers(pageNumber, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));    \r\n}\r\n\r\n\r\nexport const toggleFollowingUser = (userId: number, userFollowed: boolean): UserReducerThunkType => {\r\n\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFollowFetching(true, userId));\r\n        if (userFollowed === false){\r\n            let data = await usersAPI.followUser(userId);\r\n            if (data.resultCode === ResultCode.success) {\r\n                dispatch(toggleFollowing(userId, true));\r\n            }\r\n        };\r\n        if (userFollowed === true){\r\n            let data = await usersAPI.unfollowUser(userId);\r\n            if (data.resultCode === ResultCode.success) {\r\n                dispatch(toggleFollowing(userId, false));\r\n            }\r\n        };\r\n        \r\n        dispatch(toggleIsFollowFetching(false, userId));\r\n    }\r\n\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3dyN5\"};"],"sourceRoot":""}