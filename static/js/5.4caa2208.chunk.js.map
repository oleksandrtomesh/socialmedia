{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","HightOrderComponent(hoc)/withAuthRedirect.tsx","components/Dialogs/Dialog/Dialog.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/NewMessage/NewMessages.module.css","components/Dialogs/Dialog/Dialog.tsx","components/Dialogs/Messages/Messages.tsx","components/Dialogs/NewMessage/NewMessage.tsx","components/Dialogs/NewMessage/NewMessageContainer.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx"],"names":["_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","mapStateToPropsForRedirect","state","isAuth","authorization","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","module","exports","Dialog","id","name","className","c","dialog","Messages","message","messages","NewMessages","onSubmit","value","addMessage","render","handleSubmit","addNewMessage","textarea","component","InputCustom","placeholder","validate","maxLengthCreator","NewMessageContainer","newMessageText","dialogPage","connector","Dialogs","dialogElements","dialogData","map","d","messageElements","messageData","m","dialogs","compose"],"mappings":"0GAAA,SAASA,EAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAInC,SAASO,EAAaC,EAAaC,EAAYC,GAG5D,OAFID,GAAYd,EAAkBa,EAAYG,UAAWF,GACrDC,GAAaf,EAAkBa,EAAaE,GACzCF,EAbT,mC,4HCMII,EAA6B,SAACC,GAC9B,MAAO,CACHC,OAAQD,EAAME,cAAcD,SAwBrBE,IAfU,SAAmBC,GAAuC,IAEzEC,EAFwE,4JAG1E,WAAS,IAAD,EACuBC,KAAKtB,MAAzBiB,EADH,EACGA,OAAWjB,EADd,0BAEJ,OAAQiB,EAAkC,cAACG,EAAD,eAAepB,IAAxC,cAAC,IAAD,CAAUuB,GAAG,eALwC,GAE9CC,IAAMJ,WAUtC,OAHuCK,YAAQV,EAARU,CAAoCJ,K,oBCzB/EK,EAAOC,QAAU,CAAC,OAAS,yB,oBCA3BD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,wBAAwB,QAAU,2B,0CCAhGD,EAAOC,QAAU,CAAC,cAAgB,mCAAmC,SAAW,gC,4FCWjEC,EAR2B,SAAC,GAAgB,IAAfC,EAAc,EAAdA,GAAIC,EAAU,EAAVA,KAC5C,OACI,qBAAKC,UAAWC,IAAEC,OAAlB,SACI,cAAC,IAAD,CAASV,GAAI,YAAcM,EAA3B,SAAgCC,O,oCCK7BI,EAR8B,SAAC,GAAmB,IAAlBC,EAAiB,EAAjBA,QAAiB,EAARN,GACpD,OACI,qBAAKE,UAAWC,IAAEI,SAAlB,SACKD,K,kDCoCEE,EApCqC,SAACrC,GAWjD,OACI,cAAC,IAAD,CACIsC,SARY,SAACC,GACjBvC,EAAMwC,WAAWD,EAAMJ,SACvBI,EAAMJ,QAAU,IAQZM,OAAQ,gBAAEC,EAAF,EAAEA,aAAF,OAEJ,uBAAMJ,SAAUI,EAAcX,UAAWC,IAAEW,cAA3C,UACI,8BACI,cAAC,IAAD,CAAOZ,UAAWC,IAAEY,SAChBd,KAAK,UACLe,UAAWC,IACXC,YAAY,qBACZC,SAAUC,YAAiB,SAGnC,8BACI,cAAC,IAAD,4BCjBTC,EAJGzB,aANI,SAACT,GACnB,MAAO,CACHmC,eAAgBnC,EAAMoC,WAAWD,kBAIE,CAACX,gBAEhBa,CAAUhB,GCgBvBiB,EAvB6B,SAACtD,GAEzC,IAAIuD,EAAiBvD,EAAMoD,WAAWI,WAAWC,KAAK,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAqB5B,KAAM4B,EAAE5B,KAAMD,GAAI6B,EAAE7B,IAA5B6B,EAAE5B,SAEtE6B,EAAkB3D,EAAMoD,WAAWQ,YAAYH,KAAK,SAAAI,GAAC,OAAI,cAAC,EAAD,CAA0B1B,QAAS0B,EAAE1B,QAASN,GAAIgC,EAAEhC,IAArCgC,EAAE1B,YAE9E,OACI,sBAAKJ,UAAWC,IAAE8B,QAAlB,UACI,sBAAK/B,UAAWC,IAAEC,OAAlB,UACI,yCACEsB,KAEN,sBAAKxB,UAAWC,IAAEG,QAAlB,UACI,0CACEwB,KAEN,8BACI,cAAC,EAAD,U,iBCXVN,EAAY5B,aANI,SAACT,GACnB,MAAO,CACHoC,WAAYpC,EAAMoC,eAMXW,sBACXV,EAGAlC,IAJW4C,CAKbT","file":"static/js/5.4caa2208.chunk.js","sourcesContent":["function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect} from 'react-redux';\r\nimport { AppStateType } from '../redux/redux-store';\r\n\r\n//state for HOC withAuthRedirect\r\nlet mapStateToPropsForRedirect = (state: AppStateType) =>{\r\n    return {\r\n        isAuth: state.authorization.isAuth\r\n    }\r\n}\r\n\r\ntype MSTPtype = {\r\n    isAuth: boolean\r\n}\r\n\r\n\r\nconst withAuthRedirect = <P extends object>(Component: React.ComponentType<P>) => {\r\n\r\n    class RedirectComponent extends React.Component<MSTPtype>{\r\n        render(){\r\n            const {isAuth, ...props} = this.props\r\n            return !isAuth ? <Redirect to=\"/login\"/>: <Component {...props as P} />\r\n        }\r\n    }\r\n    \r\n    const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    //return component already with redirect\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\nexport default withAuthRedirect;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__2fyHL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1sRJI\",\"dialog\":\"Dialogs_dialog__33739\",\"message\":\"Dialogs_message__10WN4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addNewMessage\":\"NewMessages_addNewMessage__xvfjG\",\"textarea\":\"NewMessages_textarea__3Evw9\"};","import React from 'react';\r\nimport { NavLink} from 'react-router-dom'\r\nimport c from './Dialog.module.css'\r\n\r\nconst Dialog: React.FC<DialogPropsTYpe> = ({id, name}) => {\r\n    return (\r\n        <div className={c.dialog}>\r\n            <NavLink to={'/dialogs/' + id}>{name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialog;\r\n\r\ntype DialogPropsTYpe = {\r\n    id: number\r\n    name: string\r\n}","import React from 'react';\r\nimport c from './Messages.module.css'\r\n\r\n\r\nconst Messages: React.FC<MessagePropsType> = ({message, id}) => {\r\n    return (\r\n        <div className={c.messages}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Messages;\r\n\r\ntype MessagePropsType = {\r\n    id: number\r\n    message:string\r\n}","import React from 'react';\r\nimport { Field, Form, } from 'react-final-form';\r\nimport c from './NewMessages.module.css';\r\nimport { InputCustom, CustomButton } from '../../commonElements/formComponent';\r\nimport {maxLengthCreator } from '../../../utilits/validators';\r\nimport { NewMessagesPropsType } from './NewMessageContainer';\r\n\r\nconst NewMessages: React.FC<NewMessagesPropsType> = (props) => {\r\n\r\n    type ValueType = {\r\n        message: string\r\n    }\r\n    let addNewMessage = (value: ValueType): void => {\r\n        props.addMessage(value.message);\r\n        value.message = \"\";\r\n\r\n    };\r\n\r\n    return (\r\n        <Form\r\n            onSubmit={addNewMessage}\r\n\r\n            render={({handleSubmit})=>(\r\n                \r\n                <form onSubmit={handleSubmit} className={c.addNewMessage}>\r\n                    <div>\r\n                        <Field className={c.textarea} \r\n                            name=\"message\" \r\n                            component={InputCustom} \r\n                            placeholder=\"Enter your message\" \r\n                            validate={maxLengthCreator(150)}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <CustomButton>Post</CustomButton>\r\n                    </div>\r\n                </form>\r\n                )\r\n            }\r\n        />\r\n    )\r\n}\r\n\r\nexport default NewMessages;","import { connect, ConnectedProps } from 'react-redux';\r\nimport {\r\n    addMessage\r\n} from '../../../redux/dialogs-reducer';\r\nimport { AppStateType } from '../../../redux/redux-store';\r\nimport NewMessages from './NewMessage';\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        newMessageText: state.dialogPage.newMessageText\r\n    }\r\n}\r\n\r\nconst connector = connect(mapStateToProps, {addMessage})\r\n\r\nconst NewMessageContainer = connector(NewMessages);\r\n\r\nexport default NewMessageContainer;\r\n\r\nexport type NewMessagesPropsType = ConnectedProps<typeof connector>","import React from 'react'\r\nimport Dialog from './Dialog/Dialog'\r\nimport c from './Dialogs.module.css'\r\nimport { DialogsPropsType } from './DialogsContainer'\r\nimport Messages from './Messages/Messages'\r\nimport NewMessageContainer from './NewMessage/NewMessageContainer'\r\n\r\n\r\nconst Dialogs: React.FC<DialogsPropsType> = (props) => {\r\n\r\n    let dialogElements = props.dialogPage.dialogData.map( d => <Dialog key={d.name} name={d.name} id={d.id} /> )\r\n\r\n    let messageElements = props.dialogPage.messageData.map( m => <Messages key={m.message} message={m.message} id={m.id} />)\r\n\r\n    return (\r\n        <div className={c.dialogs}>\r\n            <div className={c.dialog}>\r\n                <h3>Dialogs</h3>\r\n                { dialogElements }\r\n            </div>\r\n            <div className={c.message}>\r\n                <h3>Messages</h3>\r\n                { messageElements }\r\n            </div>\r\n            <div>\r\n                <NewMessageContainer />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import { connect, ConnectedProps } from 'react-redux';\r\nimport Dialogs from './Dialogs'\r\nimport { compose } from 'redux';\r\nimport withAuthRedirect from '../../HightOrderComponent(hoc)/withAuthRedirect';\r\nimport { AppStateType } from '../../redux/redux-store';\r\nimport { ComponentType } from 'react';\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        dialogPage: state.dialogPage\r\n    }\r\n}\r\n\r\nconst connector = connect(mapStateToProps)\r\n\r\nexport default compose<ComponentType<DialogsPropsType>> (\r\n    connector,\r\n\r\n    //HOC component to redirect if user not authorised\r\n    withAuthRedirect\r\n)(Dialogs) as React.ComponentType;\r\n\r\nexport type DialogsPropsType = ConnectedProps<typeof connector>"],"sourceRoot":""}