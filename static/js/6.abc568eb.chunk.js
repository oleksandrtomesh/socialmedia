(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[6],{205:function(e,t,c){"use strict";c.r(t);var s=c(50),r=c(0),n=c.n(r),a=c(9),i=c(72),j=c(86),u=c(57),b=c(181),l=c(144),o=c(180),d=c(145),h=c(190),O=c(42),m=c(2),x=function(){var e=Object(a.c)(),t=Object(a.d)((function(e){return e.chat.status}));return Object(r.useEffect)((function(){return e(Object(j.c)()),function(){e(Object(j.d)())}}),[]),Object(m.jsxs)("div",{children:["error"===t&&Object(m.jsx)("div",{children:"Some error ocurred. Please refresh tha page"}),Object(m.jsxs)(b.a,{container:!0,direction:"column",spacing:2,children:[Object(m.jsx)(b.a,{item:!0,children:Object(m.jsx)(l.a,{square:!0,children:Object(m.jsx)(f,{})})}),Object(m.jsx)(b.a,{item:!0,children:Object(m.jsx)(v,{})})]})]})},f=n.a.memo((function(){var e=Object(a.d)((function(e){return e.chat.messages})),t=Object(r.useRef)(null),c=Object(r.useState)(!1),n=Object(s.a)(c,2),i=n[0],j=n[1];return Object(r.useEffect)((function(){var e;i&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),Object(m.jsxs)("div",{onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<500?!i&&j(!0):i&&j(!1)},style:{overflowY:"scroll",height:"500px",padding:"1rem 0 0 1rem"},children:[e.map((function(e){return Object(m.jsx)(g,{message:e},e.id)})),Object(m.jsx)("div",{ref:t})]})})),g=n.a.memo((function(e){var t=e.message;return Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:t.photo?t.photo:u.a,style:{width:"30px"},alt:"user chat avatar"}),Object(m.jsx)("b",{children:t.userName}),Object(m.jsx)("br",{}),Object(m.jsx)(o.a,{children:t.message}),Object(m.jsx)("hr",{})]})})),v=function(){var e=Object(a.d)((function(e){return e.chat.status})),t=Object(h.d)({initialValues:{message:""},onSubmit:function(e,t){var c=t.setSubmitting,s=t.resetForm;e&&(Object(j.b)(e.message),s({}),c(!1))}});return Object(m.jsx)(l.a,{square:!0,style:{padding:"1rem"},children:Object(m.jsx)("form",{onSubmit:t.handleSubmit,children:Object(m.jsxs)(b.a,{container:!0,direction:"row",spacing:2,children:[Object(m.jsx)(b.a,{item:!0,xs:12,sm:9,children:Object(m.jsx)(d.a,{fullWidth:!0,variant:"outlined",size:"small",id:"message",name:"message",label:"Type your message",value:t.values.message,onChange:t.handleChange})}),Object(m.jsx)(b.a,{item:!0,xs:12,sm:3,children:Object(m.jsx)(O.a,{disabled:"ready"!==e||t.isSubmitting,children:"Send"})})]})})})};t.default=Object(i.a)((function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(x,{})})}))}}]);
//# sourceMappingURL=6.abc568eb.chunk.js.map