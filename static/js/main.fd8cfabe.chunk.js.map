{"version":3,"sources":["redux/friendItems-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Navbar/Navbar.jsx","components/Navbar/NavbarContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Login/LoginContainer.jsx","App.js","reportWebVitals.js","index.js","api/api.js","components/Navbar/Navbar.module.css","redux/auth-reducer.js","utilits/validators.js","components/commonElements/formComponentCustomStyles.js","components/commonElements/formComponent.jsx","redux/profile-reducer.js","components/Login/Login.module.css","assets/images/Spinner.svg","components/commonElements/loader/loader.jsx","components/Header/Header.module.css","components/commonElements/formComponent.module.css","assets/images/avatar.png","redux/dialogs-reducer.js","redux/users-reducer.js","components/commonElements/loader/Loader.module.css"],"names":["initialState","friendsItems","id","name","friendsItemsReducer","state","INITIALIZE_APP","initialized","appReducer","action","type","reducers","combineReducers","profilePage","profileReducer","dialogPage","dialogsReducer","usersPage","usersReducer","authorization","authReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","News","props","Music","Settings","Navbar","className","c","nav","item","activeClassName","activeLink","to","NavbarContainer","connect","Header","classes","useStyles","styles","header","login","isAuth","userProfile","src","photos","small","avatar","alt","fullName","Button","onClick","logout","LogoutButton","variant","HeaderContainer","render","React","Component","authUserProfile","Login","onSubmit","values","a","undefined","error","FORM_ERROR","captcha","handleSubmit","submitError","invalid","loginForm","email","component","InputCustom","validate","composeValidators","required","maxLengthCreator","errorSubmitMessage","setUserProfile","DialogsContainer","lazy","ProfileContainer","UsersContainer","App","componentDidMount","fallback","exact","path","LoginContainer","dispatch","promise","authUser","Promise","all","then","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","response","data","followUser","userId","post","unfollowUser","delete","headerAPI","profileAPI","getUserProfile","getUserStatus","updateUserStatus","status","put","updateUserPhoto","photoFile","formData","FormData","append","updateUserProfile","profile","loginApi","getCaptcha","module","exports","ADD_DATA","ADD_CAPTCHA_URL","AUTH_USER_PROFILE","SAVE_PHOTO_SUCCESS","addAuthUserData","addCaptchaUrl","captchaUrl","saveAuthUserPhotoSuccess","resultCode","url","messages","value","maxLength","length","validators","reduce","validator","checkError","newValue","toUpperCase","slice","map","indexOf","makeStyles","textField","width","marginBottom","LoginButton","background","color","UploadButton","input","meta","restProps","children","label","size","touched","helperText","CustomButton","onChangeHandler","buttonAssign","htmlFor","style","display","onChange","ADD_POST","UPDATE_TEXT_AREA","SET_USER_PROFILE","SET_USER_STATUS","IS_FETCHING","postData","message","likeCounter","newPostText","userStatus","isFetching","setUserStatus","addNewPost","addPost","setStatus","updateStatus","saveUserPhoto","photo","saveProfileInfo","getState","newPostObj","newText","Loader","loader","ADD_MESSAGE","messageData","dialogData","addMessage","addMessageActionCreator","newMessageObj","newMessageText","SET_USERS","SELECT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOW_FETCHING","TOGGLE_FOLLOWING","users","totalUsersCount","isFollow","isFollowFetching","setUsers","selectPage","toggleIsFetching","toggleIsFollowFetching","toggleFollowing","userFollowed","items","totalCount","toggleFollowingUser","u","followed","filter"],"mappings":"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","file":"static/js/main.fd8cfabe.chunk.js","sourcesContent":["let initialState = {\r\n    friendsItems: [\r\n    {id: 1, name: \"Tania\"},\r\n    {id: 2, name: \"Pietia\"},\r\n    {id: 3, name: \"Sasha\"},\r\n    {id: 4, name: \"Vova\"},\r\n    {id: 5, name: \"Vova\"},\r\n    {id: 6, name: \"Vova\"},\r\n    {id: 7, name: \"Vova\"},\r\n    {id: 8, name: \"Vova\"},\r\n    {id: 9, name: \"Vova\"}\r\n]\r\n};\r\n\r\nconst friendsItemsReducer = (state = initialState, action) => state;\r\n\r\nexport default friendsItemsReducer;","import { authUser } from './auth-reducer';\r\n\r\n\r\nconst INITIALIZE_APP = 'INITIALIZE_APP';\r\n\r\n//wstanowluju initialState kotryj bude peredano jak poczatowe znaczenia state\r\n//do redusera, bo w inszomu wypadku w reducer pryjde znaczenia \"undefined\" i bude pomylka\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\n//w takyj sposib state = initialState wstanowlujetsia znaczenia za zamowczuwaniam\r\n//tobto jakszczo w dialogsReducer ne pryjszow rzoden state, to w state bude peredano\r\n//initialState \r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZE_APP:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n            \r\n    }\r\n};\r\n//створюємо ActionCreatore, щоб не помилитись при тому як передаємо dispatch \r\n//до компоненти і імпортую їх в файл NewMessage\r\n\r\nexport const initializingSuccess = () => ({type: INITIALIZE_APP});\r\n\r\n//thunkCreator for auth user\r\nexport const initialized = () => {\r\n    return (dispatch) => {\r\n        //з thunkCreator нам повертається проміс\r\n        let promise = dispatch(authUser());\r\n        //коли ми отримуємо resolve зі всіх промісів тоді dispatch (initializingSuccess) щоб властивіть \r\n        //initialized змінилась на true\r\n        Promise.all([promise]).then(() => {\r\n            dispatch(initializingSuccess())\r\n        })\r\n    }\r\n}\r\n\r\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport friendsItemsReducer from \"./friendItems-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport appReducer from './app-reducer';\r\n\r\n//combineReducer wlasne zajmajetsia pojednuwaniam reduseriv i dodaje ich do funkciji createStore,\r\n//jaka w swoje chergu stworuje state\r\nlet reducers = combineReducers ({\r\n    profilePage: profileReducer,\r\n    dialogPage: dialogsReducer,\r\n    friendsItems: friendsItemsReducer,\r\n    usersPage: usersReducer,\r\n    authorization: authReducer,\r\n    app: appReducer\r\n})\r\n\r\n//thunkMiddleware wnedrjaje poserednij etap przy stworeni stora\r\n//jakyj wmije pracuwaty z funkcijamy, tobto zmoe rozkukorzuwaty funkcijy\r\n//thunkcreator i dispatczyty z nych actiony\r\n//potribno skaczatu 'redux-thunk' za dopomogoju npm abo yarn\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n//const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","//import c from './News.module.css'\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","const Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","//import c from './Settings.module.css'\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import { NavLink } from 'react-router-dom';\r\n//import Friends from './Friends/Friends';\r\nimport c from './Navbar.module.css';\r\n\r\nconst Navbar = (props) => {\r\n  \r\n  //let friendItem = props.friendsItems.friendsItems.map(friendsItems => <Friends id={friendsItems.id} name={friendsItems.name} />)\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div className={c.nav}>\r\n        <nav >\r\n          <div>\r\n            <NavLink className={c.item} activeClassName={c.activeLink} to=\"/profile\">Profile</NavLink>\r\n          </div>\r\n          <div>\r\n            <NavLink className={c.item} activeClassName={c.activeLink} to=\"/users\">Users</NavLink>\r\n          </div>\r\n          <div>\r\n            <NavLink className={c.item} activeClassName={c.activeLink} to=\"/dialogs\">Messages</NavLink>\r\n          </div>\r\n          <div>\r\n            <NavLink className={c.item} activeClassName={c.activeLink} to=\"/news\">News</NavLink>\r\n          </div>\r\n          <div>\r\n            <NavLink className={c.item} activeClassName={c.activeLink} to=\"/music\">Music</NavLink>\r\n          </div>\r\n          <div>\r\n            <NavLink className={c.item} activeClassName={c.activeLink} to=\"/settings\">Settings</NavLink>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n      {/* <div className={c.friendsItems}>\r\n        <h3>Friends</h3>\r\n        <div className={c.friends}>\r\n          {friendItem}\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import { connect } from 'react-redux';\r\nimport Navbar from './Navbar';\r\n\r\n  let mapStateToProps = (state) =>{\r\n    return {\r\n      friendsItems: state.friendsItems\r\n    }\r\n  }\r\n\r\nconst NavbarContainer = connect(mapStateToProps)(Navbar);\r\n\r\nexport default NavbarContainer;","import { NavLink } from 'react-router-dom';\r\nimport styles from './Header.module.css';\r\nimport { useStyles } from '../commonElements/formComponentCustomStyles';\r\nimport { Button } from '@material-ui/core';\r\nimport avatar from '../../assets/images/avatar.png'\r\n\r\nconst Header = (props) => {\r\n    const classes = useStyles();\r\n    const onSubmit = () =>{\r\n        props.logout()\r\n    }\r\n\r\n    return (\r\n\r\n        <header className={styles.header}>\r\n            <div className={styles.login}>\r\n                {props.isAuth && props.userProfile\r\n                    ? <NavLink to={\"/profile/\"}>\r\n                        <img src={props.userProfile.photos.small !== null ? props.userProfile.photos.small : avatar } alt=\"profile\"></img>\r\n                        <span>{props.userProfile.fullName}</span>\r\n                    </NavLink>\r\n                    :<NavLink to='/login'>Login</NavLink>}\r\n                <Button onClick={onSubmit} className={classes.LogoutButton} variant=\"contained\" type=\"submit\">Logout</Button>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render = () => {\r\n    return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        userProfile: state.authorization.authUserProfile,\r\n        isAuth: state.authorization.isAuth,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import {Form, Field} from 'react-final-form'\r\nimport { InputCustom, CustomButton} from '../commonElements/formComponent';\r\nimport { composeValidators, maxLengthCreator, required } from '../../utilits/validators';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { FORM_ERROR } from 'final-form';\r\nimport styles from './Login.module.css'\r\n\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n  const onSubmit = async values => {\r\n    let error = await props.login(values);\r\n    if (error !== undefined) {\r\n      return { [FORM_ERROR]: error }\r\n    }\r\n  }\r\n\r\n  if (props.isAuth === true){\r\n    return <Redirect to=\"/profile\" />\r\n  }\r\n  \r\n  \r\n  return(\r\n  <Form\r\n    onSubmit ={onSubmit}\r\n    captcha = {props.captcha}\r\n    render={({handleSubmit, invalid, submitError, ...props})=> (\r\n        <div>\r\n          <form className={styles.loginForm} onSubmit={handleSubmit}>\r\n            <div className={styles.email}>\r\n              <Field name={\"email\"} component={InputCustom} validate={composeValidators(required, maxLengthCreator(30))}/>\r\n            </div>\r\n            <div>\r\n              <Field name={\"password\"} component={InputCustom} type=\"password\" validate={composeValidators(required, maxLengthCreator(30))} />\r\n            </div>\r\n            <div>\r\n              <Field name={\"rememberMe\"} component=\"input\" type={\"checkbox\"} />\r\n              <span>remember me</span>\r\n            </div>\r\n            {props.captcha &&\r\n              <div> \r\n                <img src={props.captcha } alt=\"captcha\"/>\r\n                <Field name=\"captcha\" component={InputCustom}/>\r\n              </div>}\r\n            {submitError && <div className={styles.error}>{submitError}</div>}\r\n            <div>\r\n            <CustomButton>Login</CustomButton>\r\n              {/* <Button variant=\"contained\" color=\"primary\" type=\"submit\">Login</Button>  */}\r\n            </div>\r\n          </form>\r\n\r\n        </div>\r\n      )\r\n\r\n    }\r\n  />)\r\n}\r\n\r\nexport default Login;","import { setUserProfile } from '../../redux/profile-reducer';\r\nimport Login from './Login';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.authorization.isAuth,\r\n    errorSubmitMessage: state.authorization.errorSubmitMessage,\r\n    captcha: state.authorization.captcha\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {setUserProfile, login}) (Login);","import './App.css';\r\nimport {Redirect, Route, Switch } from 'react-router-dom';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport NavbarContainer from './components/Navbar/NavbarContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginContainer from './components/Login/LoginContainer';\r\nimport React, { lazy } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { initialized } from './redux/app-reducer';\r\nimport Loader from './components/commonElements/loader/loader';\r\nimport { Suspense } from 'react';\r\n\r\n//use React.lazy for code-splitting\r\nconst DialogsContainer = lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst UsersContainer = lazy(() => import ('./components/Users/UsersContainer'));\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount = () => {\r\n    this.props.initialized();\r\n  }\r\n\r\n  render = () => {\r\n      if(!this.props.initialized){\r\n        return <Loader />\r\n      }\r\n\r\n      return <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <NavbarContainer />\r\n        <div className=\"app-wrapper-content\">\r\n          <Suspense fallback={<Loader/>}>\r\n            <Switch>\r\n              <Route exact path=\"/\" render={() => <Redirect to=\"/profile\"/>} />\r\n              <Route path=\"/login\" render={ () => <LoginContainer />} />\r\n              <Route path=\"/users\" render={ () => <UsersContainer />} />\r\n              <Route path=\"/dialogs\" render={ () => <DialogsContainer />} />\r\n              <Route path=\"/profile/:userId?\" render={ () => <ProfileContainer />} />\r\n              <Route path=\"/news\" component={News} />\r\n              <Route path=\"/music\" component={Music} />\r\n              <Route path=\"/settings\" component={Settings} />\r\n              <Route path=\"*\" render={() => <div>404 NOT FOUND</div>} />\r\n            </Switch>\r\n            </Suspense>\r\n        </div>\r\n      </div>\r\n  };\r\n}\r\n\r\nlet  mapDispatchToProps = (state) => {\r\n  return {\r\n    initialized: state.app.initialized\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapDispatchToProps, {initialized})(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import store from './redux/redux-store';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './App.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <HashRouter>\r\n            <Provider store={store}>        \r\n                <App />\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>,\r\ndocument.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import * as axios from 'axios';\r\n\r\n//w tsiomu fajli zberigajutsia funkcji w kotrych widbuwajetsia zapyt na server\r\n\r\n\r\n//za dopomogo axios.create stworujemo zapyt axios i pomoszczajemo\r\n//tudy wsi parametry jaki powtorujutsia w konomu zapyti\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"d3bb9faa-edaa-4bc4-b657-f2a8ebee1f2b\"\r\n    }\r\n});\r\n\r\nconst usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return (instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            }))\r\n    },\r\n    followUser(userId){\r\n        return (\r\n            instance.post(`follow/${userId}`)\r\n            .then(response => response.data)\r\n        )\r\n\r\n    },\r\n    unfollowUser(userId){\r\n        return (\r\n            instance.delete(`follow/${userId}`)\r\n            .then(response => response.data)\r\n        )\r\n    }\r\n};\r\n\r\nexport const headerAPI ={\r\n    authUser(){\r\n        return(\r\n            instance.get(`auth/me`)\r\n            .then(response => response.data)\r\n        )\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId){\r\n        return(\r\n            instance.get(`profile/` + userId )\r\n        )\r\n    },\r\n\r\n    //get user status from server\r\n    getUserStatus(userId){\r\n        return(\r\n            instance.get(`profile/status/` + userId)\r\n        )\r\n    },\r\n    \r\n    //update login user status\r\n    updateUserStatus(status){\r\n        return(\r\n            instance.put(`profile/status`, {status: status})\r\n        )\r\n    },\r\n\r\n    updateUserPhoto(photoFile){\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile)\r\n        return(\r\n            instance.put(`profile/photo`, formData)\r\n        )\r\n    },\r\n\r\n    updateUserProfile(profile){\r\n        return(\r\n            instance.put(`profile`, profile)\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport const loginApi = {\r\n    login(values){\r\n        return(\r\n            instance.post(`auth/login`, values)\r\n        )\r\n    },\r\n\r\n    logout(){\r\n        return(\r\n            instance.delete(`auth/login`)\r\n        )\r\n    },\r\n\r\n    getCaptcha(){\r\n        return(\r\n            instance.get(`security/get-captcha-url`)\r\n        )\r\n    }\r\n}\r\n\r\nexport default usersAPI;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__slPY0\",\"item\":\"Navbar_item__dgERQ\",\"activeLink\":\"Navbar_activeLink__8SB2B\",\"friendsItems\":\"Navbar_friendsItems__2YQVu\",\"friends\":\"Navbar_friends___ubY9\"};","import { headerAPI, loginApi, profileAPI } from '../api/api';\r\n\r\n//Actions\r\nconst ADD_DATA = 'app/auth-reducer/ADD_DATA';\r\nconst ADD_CAPTCHA_URL ='app/auth-reducer/ADD_CAPTCHA_URL';\r\nconst AUTH_USER_PROFILE = 'app/auth-reducer/AUTH_USER_PROFILE';\r\nconst SAVE_PHOTO_SUCCESS = 'app/auth-reducer/SAVE_PHOTO_SUCCESS';\r\n\r\n//Initia State\r\nlet initialState = {\r\n    data: null,\r\n    isAuth: false,  //check if user login\r\n    captcha: undefined,  //captcha url if result code === 10\r\n    authUserProfile: null\r\n};\r\n\r\n\r\n//Reducer\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_DATA:\r\n            return {\r\n                ...state,\r\n                data: action.data,\r\n                isAuth: action.isAuth,\r\n            };\r\n\r\n        case ADD_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                captcha: action.path\r\n            };\r\n\r\n        case AUTH_USER_PROFILE:\r\n            return{\r\n                ...state,\r\n                authUserProfile: action.userProfile\r\n            };\r\n\r\n            case SAVE_PHOTO_SUCCESS: \r\n                return {\r\n                    ...state,\r\n                    authUserProfile: {...state.authUserProfile, photos: action.photos},\r\n                }\r\n            ;\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\n//Action Creators\r\n\r\nexport const addAuthUserData = (id, login, email, isAuth) => ({type: ADD_DATA, data: {id, login, email}, isAuth});\r\nexport const addCaptchaUrl = (captchaUrl) => ({type: ADD_CAPTCHA_URL, path: captchaUrl});\r\nexport const addAuthUserProfile = (userProfile) => ({type: AUTH_USER_PROFILE, userProfile});\r\nexport const saveAuthUserPhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\n//side effect, thunks\r\n\r\nexport const authUser = () => async (dispatch) => {\r\n        const data = await headerAPI.authUser()\r\n        if (data.resultCode === 0) {\r\n            let {\r\n                id,\r\n                login,\r\n                email\r\n            } = data.data;\r\n            dispatch(addAuthUserData(id, login, email, true));\r\n            const response = await profileAPI.getUserProfile(id)\r\n            dispatch(addAuthUserProfile(response.data));\r\n        }\r\n    }\r\n\r\nexport const login = (values) => {\r\n    return async (dispatch) => {\r\n        const response = await loginApi.login(values);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(authUser());\r\n            dispatch(addCaptchaUrl(undefined));\r\n        } else {\r\n            if (response.data.resultCode === 10){\r\n                const captcha = await loginApi.getCaptcha()\r\n                dispatch(addCaptchaUrl(captcha.data.url))\r\n            }\r\n            return response.data.messages[0]\r\n        }\r\n    };\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await loginApi.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(addAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","\r\n\r\nexport const required = value => (value ? undefined : 'Required')\r\n\r\n//robymo validator max length creator jak zamykania i wyzywaju jogo w  Field peredajuczy \r\n//jaka moe buty maksymalna dorzyna pola wwodu\r\nexport const maxLengthCreator = (maxLength) => (value) => (value && value.length > maxLength \r\n    ? `Max length is ${maxLength} symbols`\r\n    : undefined )\r\n\r\n    //Function compose all validators from final-form\r\n    //tsia funkcja po czerzi wyklykaje validatory i prokyduje w nych za dopomogoju zamykania value z formy\r\nexport const composeValidators = (...validators) => value => \r\n        validators.reduce((error, validator) => error || validator(value), undefined);\r\n\r\n\r\nexport const checkError = (error, value) => {\r\n    const newValue = value[0].toUpperCase() + value.slice(1);\r\n    return( error && error.map(messages => {\r\n            if(messages.indexOf(newValue) >= 0){\r\n                return messages;\r\n            }\r\n            return undefined;\r\n        }))\r\n    }\r\n\r\n","import { makeStyles } from \"@material-ui/core\";\r\n\r\n\r\n\r\nexport const useStyles = makeStyles({\r\n    textField:{\r\n        width: '100%',\r\n        marginBottom: '15px'\r\n    },\r\n    LoginButton:{\r\n        width: '10rem',\r\n        background: 'linear-gradient(45deg, gray, #2d2d2d)',\r\n        color: 'white'\r\n    },\r\n\r\n    LogoutButton:{\r\n        width: '10rem',\r\n        background: 'white',\r\n        color: 'black'\r\n    },\r\n\r\n    UploadButton: {\r\n        background: 'linear-gradient(45deg, gray, #2d2d2d)',\r\n        color: 'white'\r\n    }\r\n    \r\n})\r\n\r\n","import styles from \"./formComponent.module.css\";\r\nimport TextField from \"@material-ui/core/textfield\";\r\nimport {useStyles} from './formComponentCustomStyles';\r\nimport { Button } from '@material-ui/core';\r\nimport React from 'react'; \r\n\r\nexport const FormConstructor = ({input, meta, ...props}) => {\r\n    const hasError = meta.error && meta.touched;\r\n    return (\r\n        <span className={styles.formControl + \" \" + (hasError ? styles.error: \"\")}>\r\n            {props.children}\r\n            { hasError && <div>{meta.error}</div>}\r\n        </span>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    return (\r\n        <FormConstructor {...props}>\r\n            <textarea {...input} {...restProps} />\r\n        </FormConstructor>\r\n    )\r\n}\r\n\r\nexport const InputCustom = (props) => {\r\n\r\n    const classes = useStyles()\r\n    const {input, meta, children, ...restProps} = props;\r\n    return (\r\n            <TextField \r\n                className={classes.textField}\r\n                variant=\"outlined\"\r\n                color=\"primary\" \r\n                label={input.name}\r\n                size=\"small\"\r\n                error={meta.error && meta.touched}\r\n                helperText={meta.touched ? meta.error : undefined}\r\n                {...input} \r\n                {...restProps} />\r\n    )\r\n};\r\n\r\nexport const CustomButton = (props) => {\r\n\r\n    const classes = useStyles()\r\n    return <Button className={classes.LoginButton} variant=\"contained\" type=\"submit\">{props.children}</Button> \r\n}\r\n\r\n\r\nexport const UploadButton = ({onChangeHandler, buttonAssign, ...props}) => {\r\n\r\n    const classes = useStyles()\r\n\r\n    return <label htmlFor=\"upload-photo\">\r\n        <input\r\n            style={{ display: 'none' }}\r\n            id=\"upload-photo\"\r\n            name=\"upload-photo\"\r\n            type=\"file\"\r\n            onChange={onChangeHandler}\r\n        />\r\n        <Button className={classes.UploadButton} variant=\"contained\" component=\"span\">\r\n            {buttonAssign}\r\n    </Button>\r\n    </label>\r\n}\r\n","import { profileAPI } from '../api/api';\r\nimport { saveAuthUserPhotoSuccess } from './auth-reducer';\r\n\r\n\r\n//actions\r\nconst ADD_POST = 'app/profile-reducer/ADD-POST';\r\nconst UPDATE_TEXT_AREA ='app/profile-reducer/UPDATE-TEXT-AREA';\r\nconst SET_USER_PROFILE ='app/profile-reducer/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'app/profile-reducer/SET_USER_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'app/profile-reducer/SAVE_PHOTO_SUCCESS';\r\nconst IS_FETCHING = 'app/profile-reducer/IS_FETCHING'\r\n\r\n//initial State\r\nlet initialState = {\r\n    postData: [\r\n        {id: 1, message: \"Hi, how are you?\", likeCounter: 12},\r\n        {id: 2, message: \"It's my firs post\", likeCounter: 13},\r\n        {id: 3, message: \"It's my second post\", likeCounter: 14},\r\n        {id: 4, message: \"It's my third post\", likeCounter: 15},\r\n        {id: 5, message: \"It's my fourth post\", likeCounter: 16},\r\n        {id: 6, message: \"It's my fifth post\", likeCounter: 17  }\r\n    ],\r\n    newPostText: \"\",\r\n    userProfile: null,\r\n    userStatus: \"\",\r\n    isFetching: false\r\n};\r\n\r\n//Reducer\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n        switch (action.type) {\r\n            case ADD_POST:\r\n                let newPostObj = {\r\n                    id: 5,\r\n                    message: action.newPostText,\r\n                    likeCounter: 0\r\n                };\r\n                \r\n                return {\r\n                    ...state,\r\n                    postData: [newPostObj, ...state.postData],\r\n                    newPostText: \"\"\r\n                };\r\n\r\n            case UPDATE_TEXT_AREA: \r\n\r\n                return {\r\n                    ...state,\r\n                    newPostText: action.newText\r\n                };\r\n            ;\r\n\r\n            case SET_USER_PROFILE: \r\n                return {\r\n                    ...state,\r\n                    userProfile: action.profile\r\n                }\r\n            ;\r\n\r\n            case SET_USER_STATUS: {\r\n                return {\r\n                    ...state,\r\n                    userStatus: action.status\r\n                };\r\n            }\r\n\r\n            case SAVE_PHOTO_SUCCESS: \r\n                return {\r\n                    ...state,\r\n                    userProfile: {...state.userProfile, photos: action.photos},\r\n                }\r\n            ;\r\n\r\n            case IS_FETCHING: \r\n                return {\r\n                    ...state,\r\n                    isFetching: action.isFetching\r\n                }\r\n\r\n            default:\r\n                return state;\r\n        }\r\n    }\r\n\r\n//Action Creators\r\nexport const addPost = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const updateTextAreaActionCreator = (text) => ({ type: UPDATE_TEXT_AREA, newText: text });\r\nexport const setProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\nexport const isFetching = (isFetching) => ({type: IS_FETCHING, isFetching})\r\n\r\n\r\n//side effects, Thinks\r\n\r\nexport const addNewPost = (newPostText) => {\r\n    return (dispatch) => dispatch(addPost(newPostText))\r\n};\r\n\r\nexport const setUserProfile = (userId) => async (dispatch) => { \r\n            dispatch(isFetching(true))\r\n            const response = await profileAPI.getUserProfile(userId)\r\n            dispatch(setProfile(response.data));\r\n            dispatch(isFetching(false))\r\n        }\r\n\r\nexport const setStatus = (userId) => {\r\n    return ((dispatch) => {\r\n        profileAPI.getUserStatus(userId)\r\n            .then(response => {\r\n                dispatch(setUserStatus(response.data))\r\n                }\r\n            )\r\n        }\r\n    )\r\n};\r\n\r\nexport const updateStatus = (status) => {\r\n    return ((dispatch) => {\r\n            profileAPI.updateUserStatus(status)\r\n                .then(response => {\r\n                    if (response.resultCode === 0 ){\r\n                        dispatch(setUserStatus(status))\r\n                    }\r\n                }\r\n            )\r\n        }\r\n    )\r\n}\r\n\r\nexport const saveUserPhoto = (photo) => async (dispatch) => {\r\n    dispatch(isFetching(true))\r\n    const response = await profileAPI.updateUserPhoto(photo)\r\n        if (response.data.resultCode === 0 ){\r\n            dispatch(savePhotoSuccess(response.data.data.photos));\r\n            dispatch(saveAuthUserPhotoSuccess(response.data.data.photos));\r\n        }\r\n    dispatch(isFetching(false))\r\n}\r\n\r\nexport const saveProfileInfo = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().authorization.data.id;\r\n    const response = await profileAPI.updateUserProfile(profile)\r\n    if (response.data.resultCode === 0){\r\n        dispatch(setUserProfile(userId))\r\n    } else {\r\n        return response.data.messages;\r\n    }\r\n}\r\n\r\nexport default profileReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Login_error__2s83K\",\"loginForm\":\"Login_loginForm__1sbSj\",\"email\":\"Login_email__1nHbB\"};","export default __webpack_public_path__ + \"static/media/Spinner.7593a230.svg\";","import styles from './Loader.module.css'\r\nimport loader from '../../../assets/images/Spinner.svg'\r\n\r\nlet Loader = () => {\r\n    return(\r\n        <div className={styles.loader}>\r\n            <img src={loader} alt=\"loader\" />\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Loader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2NwsF\",\"logo\":\"Header_logo__2IV0K\",\"login\":\"Header_login__K0gJt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formComponent_formControl__1zxN3\",\"error\":\"formComponent_error__2woc7\"};","export default \"data:image/png;base64,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\"","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\n//wstanowluju initialState kotryj bude peredano jak poczatowe znaczenia state\r\n//do redusera, bo w inszomu wypadku w reducer pryjde znaczenia \"undefined\" i bude pomylka\r\nlet initialState = {\r\n    messageData:[\r\n        {id: 1, message: \"Hello World\"},\r\n        {id: 2, message: \"Here will be message section soon :-)\"}\r\n    ],\r\n    dialogData: [\r\n        {id: 1, name: \"User1\"},\r\n        {id: 2, name: \"User2\"},\r\n        {id: 3, name: \"User3\"},\r\n        {id: 4, name: \"User4\"},\r\n        {id: 5, name: \"User5\"},\r\n        {id: 6, name: \"User6\"},\r\n        {id: 7, name: \"User7\"}\r\n    ],\r\n};\r\n\r\n//w takyj sposib state = initialState wstanowlujetsia znaczenia za zamowczuwaniam\r\n//tobto jakszczo w dialogsReducer ne pryjszow rzoden state, to w state bude peredano\r\n//initialState \r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let newMessageObj = {\r\n                id: 5,\r\n                message: action.message,\r\n            };\r\n            //powertajemo odrazu nowyj state, ne stworiujuczy zminoji\r\n            return {\r\n                ...state,\r\n                //koly my wpysujemo pisla spred operatora vlastywist kotra  \r\n                //je w nashomu state to my tym samym perepysujemo ciu wlastywist\r\n                messageData: [...state.messageData, newMessageObj],\r\n                newMessageText: \"\"\r\n            };\r\n            \r\n        default:\r\n            return state;\r\n            \r\n    }\r\n};\r\n//створюємо ActionCreatore, щоб не помилитись при тому як передаємо dispatch \r\n//до компоненти і імпортую їх в файл NewMessage\r\n\r\nexport const addMessageActionCreator = (message) => ({type: ADD_MESSAGE, message})\r\n\r\n//thunk creator\r\n\r\nexport const addMessage = (message) => {\r\n    return (dispatch) => dispatch(addMessageActionCreator(message))\r\n};\r\n\r\n\r\nexport default dialogsReducer;","import usersAPI from \"../api/api\";\r\n\r\nconst SET_USERS = 'SET-USERS';\r\nconst SELECT_PAGE = 'SELECT-PAGE';\r\nconst SET_TOTAL_COUNT = 'SET-TOTAL-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOW_FETCHING = 'TOGGLE_IS_FOLLOW_FETCHING';\r\nconst TOGGLE_FOLLOWING = 'TOGGLE_FOLLOWING';\r\n\r\n\r\n//wstanowluju initialState kotryj bude peredano jak poczatowe znaczenia state\r\n//do redusera, bo w inszomu wypadku w reducer pryjde znaczenia \"undefined\" i bude pomylka\r\nlet initialState = {\r\n    users:[],\r\n    pageSize: 8,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    isFollow: false,\r\n    isFollowFetching: []\r\n};\r\n\r\n//w takyj sposib state = initialState wstanowlujetsia znaczenia za zamowczuwaniam\r\n//tobto jakszczo w dialogsReducer ne pryjszow rzoden state, to w state bude peredano\r\n//initialState \r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    // dispatch(action) action - tse oject kotryj obowjazkowo maje \r\n    //wlastywist type\r\n    switch (action.type) {\r\n\r\n        case TOGGLE_FOLLOWING:\r\n            return {\r\n                ...state,\r\n                //map probigajetsia po wsich users w state i nam potribno tilky \r\n                //zrobyty kopiju koly id w state == id kotre prychodyt z action\r\n                //i ciomu useru pominiaty followed na true\r\n                users: state.users.map( u => {\r\n                    if (u.id === action.userId){\r\n                        return {...u, followed: action.userFollowed }\r\n                    }\r\n                        \r\n                    return u;\r\n                })\r\n            };\r\n        \r\n        //w SET_USERS my kopijujemo nasz state.users i wstawlajemo w niogo \r\n        //users kotri pryjdut do nas w state\r\n        case SET_USERS:\r\n            return {...state, users: action.users};\r\n        \r\n        //selct_page wstanowluje w state nomer storinky na kotru narzaw korystuwacz\r\n        case SELECT_PAGE:\r\n            return {...state, currentPage: action.currentPage};\r\n        \r\n        //set_total_coun za dopomoguju dispatch prynosyt cilkowyte znaczenia korystuwacziw z servera\r\n        case SET_TOTAL_COUNT:\r\n            return {...state, totalUsersCount: action.totalCount};\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return{...state, isFetching: action.isFetching};\r\n\r\n        //TOGGLE_IS_FOLLOW_FETCHING perekluczaje isFollowFetching w state na true czy false\r\n        //w zalenosti czy ide zapyt na serwer. True - todi knopka bude zadizajblena\r\n        //false, knopka dostupna, szczob na nei natysnuty\r\n        case TOGGLE_IS_FOLLOW_FETCHING:\r\n            //w returni robymo kopiju state\r\n            return{...state, \r\n                isFollowFetching: action.isFetching \r\n                //jakszczo dispatch w action creator powertaje true\r\n                //dodajemo do masywu isFollowFetching w state nomer id korystuwacza kotrogo followym czy unfollowym\r\n                ? [...state.isFollowFetching, action.userId] \r\n                //jakszczo false to za dopomogoju filter powertajemo nowyj masyw w kotromu we ne bude\r\n                //id korystuwacziw kotri we po zapyti na server i tym samym knopka foloow/unfollow na tych \r\n                //korystuwaczach nie bude disabled\r\n                : state.isFollowFetching.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n            \r\n    }\r\n};\r\n//створюємо ActionCreatore, щоб не помилитись при тому як передаємо dispatch \r\n//до компоненти і імпортую їх в файл NewMessage\r\n\r\n//action creators\r\nexport const setUsers = (users) => ({ type: SET_USERS, users})\r\nexport const selectPage = (currentPage) => ({ type: SELECT_PAGE, currentPage})\r\nexport const setTotalCount = (totalCount) => ({ type: SET_TOTAL_COUNT, totalCount})\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleIsFollowFetching = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOW_FETCHING, isFetching, userId})\r\n\r\nexport const toggleFollowing = (userId, userFollowed) => ({type: TOGGLE_FOLLOWING, userId, userFollowed})\r\n\r\n//thunk creators\r\n\r\n//thunks kreator tse funkcija, jaka za dopomogoju zamykania peredaje w thunk neobhidni parametry\r\nexport const getUsers = (currentPage, pageSize) => {\r\n    //thunk - tse funkcija, kotra prujmaje w sebe dispatch i w seredyni dispatczyt action creatory\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        const data = await usersAPI.getUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalCount(data.totalCount));\r\n    };\r\n};\r\n\r\n\r\nexport const toggleFollowingUser = (userId, userFollowed) => {\r\n\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFollowFetching(true, userId));\r\n        if (userFollowed === false){\r\n            let data = await usersAPI.followUser(userId);\r\n            if (data.resultCode === 0) {\r\n                dispatch(toggleFollowing(userId, true));\r\n            }\r\n        };\r\n        if (userFollowed === true){\r\n            let data = await usersAPI.unfollowUser(userId);\r\n            if (data.resultCode === 0) {\r\n                dispatch(toggleFollowing(userId, false));\r\n            }\r\n        };\r\n        \r\n        dispatch(toggleIsFollowFetching(false, userId));\r\n    }\r\n\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3dyN5\"};"],"sourceRoot":""}